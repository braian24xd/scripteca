{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import VideoPlayer from'../components/VideoPlayer';import'../css/studentRecordings.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const StudentRecordings=()=>{const[recordings,setRecordings]=useState([]);const[selectedRecording,setSelectedRecording]=useState(null);const formatDate=isoDate=>{const date=new Date(isoDate);const day=String(date.getDate()).padStart(2,'0');const month=String(date.getMonth()+1).padStart(2,'0');// Los meses van de 0 a 11\nconst year=date.getFullYear();return\"\".concat(day,\"/\").concat(month,\"/\").concat(year);};const fetchRecordings=async()=>{try{const token=localStorage.getItem('token');const response=await axios.get('http://localhost:5000/api/recordings',{headers:{Authorization:\"Bearer \".concat(token)}});setRecordings(response.data);}catch(error){console.error('Error fetching recordings:',error);}};useEffect(()=>{fetchRecordings();},[]);return/*#__PURE__*/_jsx(\"section\",{className:\"student__dashboard\",children:/*#__PURE__*/_jsxs(\"section\",{className:\"recordings\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"recording__group\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Tus Grabaciones\"}),recordings.map(recording=>/*#__PURE__*/_jsxs(\"article\",{className:\"recording__item\",onClick:()=>setSelectedRecording(recording),children:[/*#__PURE__*/_jsx(\"h3\",{children:recording.title}),/*#__PURE__*/_jsx(\"p\",{children:formatDate(recording.date)}),/*#__PURE__*/_jsx(\"p\",{children:recording.description})]},recording._id))]}),/*#__PURE__*/_jsx(\"section\",{className:\"recording__video\",children:selectedRecording&&/*#__PURE__*/_jsx(VideoPlayer,{videoUrl:selectedRecording.url,title:selectedRecording.title,description:selectedRecording.description})})]})});};export default StudentRecordings;","map":{"version":3,"names":["React","useEffect","useState","axios","VideoPlayer","jsx","_jsx","jsxs","_jsxs","StudentRecordings","recordings","setRecordings","selectedRecording","setSelectedRecording","formatDate","isoDate","date","Date","day","String","getDate","padStart","month","getMonth","year","getFullYear","concat","fetchRecordings","token","localStorage","getItem","response","get","headers","Authorization","data","error","console","className","children","map","recording","onClick","title","description","_id","videoUrl","url"],"sources":["C:/Users/braya/OneDrive/Escritorio/scripteca/frontend/src/pages/StudentRecordings.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport VideoPlayer from '../components/VideoPlayer';\r\nimport '../css/studentRecordings.css'\r\n\r\nconst StudentRecordings = () => {\r\n  const [recordings, setRecordings] = useState([]);\r\n  const [selectedRecording, setSelectedRecording] = useState(null);\r\n\r\n  const formatDate = (isoDate) => {\r\n    const date = new Date(isoDate);\r\n    const day = String(date.getDate()).padStart(2, '0');\r\n    const month = String(date.getMonth() + 1).padStart(2, '0'); // Los meses van de 0 a 11\r\n    const year = date.getFullYear();\r\n    return `${day}/${month}/${year}`;\r\n  };\r\n\r\n  const fetchRecordings = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await axios.get('http://localhost:5000/api/recordings', {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n \r\n      setRecordings(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching recordings:', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchRecordings();\r\n  }, []);\r\n\r\n  return (\r\n    <section className=\"student__dashboard\">\r\n      <section className='recordings'>\r\n        <section className='recording__group'>\r\n        <h2>Tus Grabaciones</h2>\r\n          {recordings.map((recording) => (\r\n            <article\r\n              className='recording__item'\r\n              key={recording._id}\r\n              onClick={() => setSelectedRecording(recording)}\r\n            >\r\n              <h3>{recording.title}</h3>\r\n              <p>{formatDate(recording.date)}</p>\r\n              <p>{recording.description}</p>\r\n            </article>\r\n          ))}\r\n        </section>\r\n        <section className='recording__video'>\r\n          {selectedRecording && (\r\n            <VideoPlayer\r\n              videoUrl={selectedRecording.url}\r\n              title={selectedRecording.title}\r\n              description={selectedRecording.description}\r\n            />\r\n          )}\r\n        </section>\r\n      </section>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default StudentRecordings;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}